unit abmJugadores;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.Grids, lo_arbolbinario, la_arbolbinario;

type
  TFormABMJugadores = class(TForm)
    StringGrid1: TStringGrid;

    //propios
    procedure CargarGrilla();
    procedure FormCreate(Sender: TObject);



  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FormABMJugadores: TFormABMJugadores;

implementation

{$R *.dfm}

procedure TFormAbmJugadores.CargarGrilla();
var
  pos: tPosHash;
  reg: tRegDatosHash;
begin
  AbrirMe_Hash(MeJuego);
  If Total (MeJuego)>0 then
    Begin
      Begin
        grilla.RowCount:=1;
        SetearHeaders;
        Pos:=Primero (MeJuego);
        While pos <> _posnula do
          Begin
            CapturarInfoHash(MeJuego,pos,Reg);
            grilla.RowCount:=grilla.RowCount+1;
            AgregarReglon (reg,grilla.RowCount-1);
            pos:=Proximo(MeJuego,pos);
          End;
    End;

end;
end;

procedure TFormABMJugadores.FormCreate(Sender: TObject);
begin
  LO_ArbolBinario.CrearMe_Indice(MeID, 'CONTROLID.CON', 'DATOSID.DAT');
  LO_ArbolBinario.CrearMe_Indice(MeNICK, 'CONTROLNICK.CON', 'DATOSNICK.DAT');
  LO_ArbolBinario.CrearMe_Archivos(MeJugadores, 'CONTROLJUGADORES.CON', 'DATOSJUGADORES.DAT');
  InsertarAdminCuandoMEVacio();
end;

end.
